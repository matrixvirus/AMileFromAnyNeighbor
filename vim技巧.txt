1
	2018年02月29日。
	参考书是Learning Vi and Vim,OREILLY出版社，和
	Practical-Vim-Edit-Text-at-the-Speed-of-Thought,
2 上手
	这一节想让第一次用vi的人快速感受一下，不一开始就太多概念，让新手不知所云。
2.1 插入模式和操作模式和命令模式
	第一次用vi的人不知道这3个概念，，插入模式和一般的
	文字编辑器一样打字，操作模式时，按键都是一种操作，不是打字,比如操作模式时按
	h,是光标左移一列的意思, 没有h这个字母被打进你的文字。
	
	vi打开一个文件时是操作模式，要进入插入模式，按键i,i指insert,然后你可以从光标
	所在位置打字。
	进入插入模式不只有i,后面再说。
	按esc从插入模式变成操作模式。
	在操作模式，按冒号进入命令模式。
	操作模式时，按键会带来效果，但是不会显示，比如按h，光标左移1列，屏幕上不会有
	h这个字母显示。
	命令模式时，按了什么键会在屏幕底端显示出来，象系统命令行那样。
	在操作模式时任何时候按esc取消一个操作。
	后面讲命令模式的命令时，比如set nu，我会这样写
	:set nu
	这个冒号意思是这是在命令模式，因为进到命令模式必须先打一个冒号，
2.2 打开和关闭文件
	打开文件，在命令行上，执行
	$ vi FileName

	以只读模式打开文件
	$ vi -R FileName	
	关闭文件，在vi里面，按esc，再按冒号进入命令模式,输入q!,你按了冒号后，屏幕底端会出现冒号
	，后面的'q!'也会显示出来，'q!'的意思是不保存修改，直接退出。退出有多种模式，
	后面再说。
3 移动光标
3.1 根据行列移动
	要移动光标时要换成操作模式。
	基本按键 左 h 右 l 下 j 上 k
	0 移动到行首
	$ 移动到行尾
	^ 移动到当前行第1个非空白字符
	2h 向左移动两列
	2l 向右移动两列
	2k 向上移动两行
	2j 向下移动两行
	10| 移动到第10列
	直接回车 或 + 移动到下一行首
	- 移动到上一行首

	:10 移动到第10行的命令模式方法
	10G 移动到第10行的操作模式方法
	`` 回到行数变化前的行，比如在100行，按10G移动到了第10行，再按``，回到100行
		，是键盘上数字1左边那个键
	:$ 移动到最后一行
	gg 移动到第1行的命令模式方法

	z 回车 把当前行变到屏幕最上面
	z. 把当前行变到屏幕中间
	z- 把当前行变到屏幕底端

	Ctrl+L 重画屏幕，有时系统往终端发的信息扰乱屏幕，按Ctrl+L能清除垃圾信息

	H 移动到屏幕最上面行首
	M 移动到屏幕中间行首
	L 移动到屏幕底部行首



3.2 根据词移动
	w 移动到下一个词首
	3w 移动到后面第3个词首
	W 移动到下一个词首，不把和一个词连在一起的标点当作一个词
	b 移动到上一个词首
	B 移动到上一个词首,不把和一个词连在一起的标点当作一个词
	e 移动到下一个词尾
	E 移动到下一个词尾，不把和一个词连在一起的标点当作一个词
	  移动到上一个词尾 好象没有
3.3 根据屏幕移动
	Ctrl+F 向下移动一屏
	Ctrl+B 向上移动一屏
	Ctrl+D 向下移动半屏
	Ctrl+U 向上移动半屏
3.4 根据段落移动
	( 移动到当前句子首
	) 移动到当前句子尾
	{ 移动到当前段落首
	} 移动到当前段落尾
	[[ 移动到当前节首
	]] 移动到当前节尾

	句子指的是以? . ! 结尾的一段连续的字母。估计不认识中文的问号和句号。
	段落指的是不包含空白行的一段连续的行。
	关于节的解释，我看不懂，原文如下
	a section is defined as text up to the next default section macro (.NH, .SH, .H 1, or .HU).
	然后书上没讲'section macro','NH','SH'是什么。
4 进入插入模式的方法
	i 在光标所在字母前插入
	a 在光标所在字母后插入
	I 在行首插入
	A 在行尾插入
	o 在当前行下面插入一个新行
	O 在当前行上面插入一个新行
	4ia esc 插入4个a
5 编辑文件
5.1 命令模式指定行数范围的方法
	这个是后面的基础，所以先讲

	:10,20 表示10到20行
	比如
	:10,20d 表示删除10到20行
	
	:10,+11 表示第10行往下数10行

	:.,+11 表示光标所在行往下数10行

	:0,$ 表示第1行到最后一行,就是所有行

	:% 所有行
5.1 删除
5.1.1 删除字母
	x 删除光标所在字母
	2x 删除光标所在和后面的一个字母,共2个字母
	X 删除光标前面的字母
5.1.2 删除词
	dw 删除光标所在字母至下一个词的前一个字母
	db 删除光标所在词的首至光标前一个字母
	de 删除光标所在字母至所在词的尾
	dW 删除光标所在字母至下一个词的前一个字母,和词连着的标点当作词的一部分
	dB 删除光标所在词的首至光标前一个字,和词连着的标点当作词的一部分
	dE 删除光标所在字母至所在词的,和词连着的标点当作词的一部分
5.1.3 删除行列
	s 删除光标所在字母并在新光标位置前插入
	S 删除一行并在行首插入
	dd 删除光标所在行
	D 删除光标所在行的内容，但是保留这个行，就是只剩一个换行符
	2dj 删除光标所在行，加下面2行，共3行
	2dk 删除光标所在行，加上面2行，共3行
	d+ 删除当前行和下一行
	d$ 删除光标所在字母至行尾
	d0 删除行首至光标前一个字母
	2dl 删除光标所在字母，加右边一个字母，共2个字母
	2dh 删除光标所在字母，加左边一个字母，共2个字母
	d4| 删除光标到第4列字母
	:10,20d 删除10到20行
	dH 删除当前行到屏幕顶的行
	dL 删除当前行到屏幕底的行
	dM 删除当前行到屏幕中间的行
5.2 复制
5.2.1 复制字母和词
	yc 复制光标所在字母
	yw 复制光标所在字母至下一个词的前一个字母
	yb 复制光标所在词的首至光标前一个字母
	ye 复制光标所在字母至所在词的尾
	yW 复制光标所在字母至下一个词的前一个字母,和词连着的标点当作词的一部分
	yB 复制光标所在词的首至光标前一个字,和词连着的标点当作词的一部分
	yE 复制光标所在字母至所在词的,和词连着的标点当作词的一部分
5.2.2 复制句子
	yy或Y 复制光标所在行
	2yj 复制光标所在行，加下面2行，共3行
	2yk 复制光标所在行，加上面2行，共3行
	y+ 复制当前行和下一行
	y$ 复制光标所在字母至行尾
	y0 复制行首至光标前一个字母
	2yl 复制光标所在字母，加右边一个字母，共2个字母
	2yh 复制光标所在字母，加左边一个字母，共2个字母
	y4| 复制光标到第4列字母
	:10,20y 复制10到20行

	:10,20t30 把10至20行复制到第30行后
	:10,20m30 把10至30行移动到第30行后
	yH 复制当前行到屏幕顶的行
	yL 复制当前行到屏幕底的行
	yM 复制当前行到屏幕中间的行
5.3 粘贴
	p 粘贴到光标所在字母后面
	P 粘贴到光标所在字母前面
5.4 改变
5.4.1 改变字母和词
	r 修改光标所在字母
	R 连续修改光标和其后面的字母，直至按esc
	10rd 把光标所在字母加往右一共10个字母全部改成d 
	~ 光标所在字母大写变小写，小写变大写
	cw 改变光标所在字母至下一个词的前一个字母
	cb 改变光标所在词的首至光标前一个字母
	ce 改变光标所在字母至所在词的尾
	cW 改变光标所在字母至下一个词的前一个字母,和词连着的标点当作词的一部分
	cB 改变光标所在词的首至光标前一个字,和词连着的标点当作词的一部分
	cE 改变光标所在字母至所在词的,和词连着的标点当作词的一部分
5.4.2 改变行
	cc 改变光标所在行
	C 改变光标所在行的内容，但是保留这个行，就是只剩一个换行符
	2cj 改变光标所在行，加下面2行，共3行
	2ck 改变光标所在行，加上面2行，共3行
	c+ 改变当前行和下一行
	c$ 改变光标所在字母至行尾
	c0 改变行首至光标前一个字母
	2cl 改变光标所在字母，加右边一个字母，共2个字母
	2ch 改变光标所在字母，加左边一个字母，共2个字母
	c4| 改变光标到第4列字母
	cH 改变当前行到屏幕顶的行
	cL 改变当前行到屏幕底的行
	cM 改变当前行到屏幕中间的行
5.5 重复执行上一个操作
	比如按了dd，再反复按.，反复删除。
5.6 撤消
	u 撤消
	U 撤消某一行相关的所有改变
	Ctrl+R 恢复
5.7 连接两行
	J 把当前行,行尾加一个空格和下一行连成1行
	10J 当前行，往下加9行，共10行，连成1行,每行后面会加一个空格,除了最后1行
6 保存文件和退出文件
6.1 保存和退出
	:quit(q) 退出。 如果没修改文件或者前面保存过了，可以直接退出
	:quit! 不保存修改直接退出 
	:write(w) 保存 
	:wq 保存并退出 
	ZZ 操作模式的保存并退出 
	:write! 强制保存 
	:wq! 强制保存并退出 

	:e AnotherFileName	打开另一个文件 
6.2 另存为另一个文件
	把这个文件另存为另一个文件
	:write 新文件名	

	把第10行到第20行的内容另存为一个文件
	:10,20 write NewFileName

	把第10行到第20行追加到另一个文件
	:10,20 write>> 	AnotherFileName
7 搜索
7.1
	在操作模式下按/，或者先按:进入命令模式再按/ 进入搜索功能

	:/abc 搜索单词abc
	搜索是从当前光标开始往后，光标跳到第1个所搜词头，按n,当标跳到下一个所搜词头
	，按N，光标跳到上一个所搜词头。
7.2 不按/，按? ,象这样
	:?abc 
	意思是反向搜索，从当前光标往上搜，然后你按n是跳到上一个所搜词头，按N是跳到
	下一个所搜词头。
8 设置选项
	设置选项是在命令模式。主要用set命令，但是不只set命令

	要查看某个选项的帮助，比如textwidth
	:help textwidth
8.1 设置自动换行的文字最大宽度
	设置光标距离屏幕右边界多少列时自动换行
	set wrapmargin(wm)=10
	括号里的wm是缩写，意思是这个命令也可以写成set wm=10

	设置文字最大宽度,超过80列自动换行
	set textwidth(tw)=80
9 分窗口
10 vi内执行系统命令
	比如执行ls命令
	:!ls
